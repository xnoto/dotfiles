bindkey -v
eval "$(/opt/homebrew/bin/brew shellenv)"
export PATH="$HOME/.local/bin:$PATH"
export SSH_AUTH_SOCK=${HOME}/.bitwarden-ssh-agent.sock
export NODE_OPTIONS='--max-old-space-size=6144'
{{ $secrets := fromYaml (include "encrypted_secrets.yaml.age" | decrypt) -}}
export GITHUB_TOKEN={{ index $secrets "github_mcp_token" | quote }}
export GRAFANA_TOKEN={{ index $secrets "grafana_mcp_token" | quote }}

# OpenCode configuration for agent-hub-daemon integration
# 
# The agent-hub-daemon auto-starts a headless hub server (opencode serve --port 4096)
# which provides HTTP API access to ALL sessions. User TUI instances don't need
# to start their own servers - they just create sessions the hub can see.
#
# To manually start a server (e.g., if daemon isn't running):
#   opencode --port 4096
